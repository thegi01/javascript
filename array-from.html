<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>Array.from()</title>
  </head>
  <body>
    <h1>Array.from(arrayLike[, mapFn(, thisArg)])</h1>

    <h2>매개변수</h2>
    <ul>
      <li>
        arrayLike: 배열로 변환하고자 하는 유사 배열 객체나 반복 가능한 객체
      </li>
      <li>mapFn(Optional) : 배열의 모든 요소에 대해 호출할 매핑 함수</li>
      <li>thisArg(Optional) : mapFn 실행 시에 this로 사용할 값</li>
    </ul>

    <h2>반환값</h2>
    새로운 Array 인스턴스

    <script>
      console.log(Array.from("foo")); // ["f", "o", "o"]
      console.log(Array.from([1, 2, 3], x => x + x)); //  [2, 4, 6]

      /* Set에서 배열 반들기 */
      const s = new Set(["foo", window]);
      console.log(Array.from(s)); // ["foo", window]

      /* Map에서 배열 만들기 */
      const m = new Map([[1, 2], [2, 4], [4, 8]]);
      console.log(Array.from(m)); // [[1, 2], [2, 4], [4, 8]]

      const mapper = new Map([["1", "a"], ["2", "b"]]);
      console.log(Array.from(mapper.values())); // ['a', 'b'];

      console.log(Array.from(mapper.keys())); // ['1', '2'];

      /* 배열  형태를 가진 객체(arguments)에서 배열 만들기 */
      function f() {
        return Array.from(arguments);
      }
      console.log(f(1, 2, 3)); // [1, 2, 3]

      /* Array.from과 화살표 함수 사용하기 */
      // Using an arrow function as the map function to
      // manipulate the elements
      console.log(Array.from([1, 2, 3], x => x + x));
      // [2, 4, 6]

      // Generate a sequence of numbers
      // Since the array is initialized with `undefined` on each position,
      // the value of `v` below will be `undefined`
      console.log(Array.from({ length: 5 }, (v, i) => i)); // [0, 1, 2, 3, 4]

      /* 시퀀스 생성기(range) */
      const range = (start, stop, step) =>
        // Sequence generator function (commonly referred to as "range", e.g. Clojure, PHP etc)
        Array.from(
          { length: (stop - start) / step + 1 },
          (_, i) => start + i * step
        );
      // Generate numbers range 0..4
      console.log(range(0, 4, 1)); // [0, 1, 2, 3, 4]
      // Generate numbers range 1..10 with step of 2
      console.log(range(1, 10, 2)); // [1, 3, 5, 7, 9]
      // Generate the alphabet using Array.from making use of it being ordered as a sequence
      console.log(
        range("A".charCodeAt(0), "Z".charCodeAt(0), 1).map(x =>
          String.fromCharCode(x)
        )
      );
      // ["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"]
    </script>
  </body>
</html>
