<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>spread operator</title>
</head>
<body>
    <script type="text/javascript">

        /* spread operator */

        /* 1. 더 나은 applty */
        // 배열을 함수의 인자로 사용하고 싶은 경우 Function.prototype.apply를 사용
        function myFunction(x, y, z){ }
        var args = [0, 1, 2];
        myFunction.apply(null, args);

        // ES2015 spread operator(전개 연산자)가 있다면 이제 위를 다음과 같이 쓸 수 있습니다.
        function myFunction(x, y, z){ }
        var args = [0, 1, 2];
        myFunction(...args);

        // 인수 목록의 어떤 인수라도 spread operator(전개 연산자) 구문을 쓸 수 있고 여러 번 사용될 수 있습니다.
        function myFunction(v, w, x, y, z) { }
        var args = [0, 1];
        myFunction(-1, ...args, 2, ...[3]);


        /* 2. 더 강력한 배열 리터럴 */
        // 기존의 배열이 있고, 이 기존 배열이 그 새로운 배열의 일부가 되는 배열을 만들고 싶은 경우, 배열 리터럴 구문은 더는 충분치 않고, push, splice, concat 등을 사용하는 명령형 코드까지 사용될 것입니다. 하지만, 전개 연산자 구문이 있다면, 이는 훨씬 더 간결해집니다.
        var parts = ['shoulders', 'knees'];
        var lyrics = ['head', ...parts, 'and', 'toes']; // ["head", "shoulders", "knees", "and", "toes"]


        /* 3. new에 적용하기 */
        var dateFields = [1970, 0, 1]; // 1 Jan 1970
        var d = new Date(...dateFields);

        /* 4. 배열 복사하기 */
        var arr = [1, 2, 3];
        var arr2 = [...arr]; // arr.slice()와 유사하게 복사하기
        arr2.push(4); // [1, 2, 3, 4]
        // arr는 어떤 여향도 받지 않았다.

        /* 5. 더 나은 push */
        //  push는 기존 배열의 끝에 배열을 push하기 위해 자주 사용됩니다. ES5에서 이는 종종 다음과 같이 수행됩니다:
        var arr1 = [0, 1, 2];
        var arr2 = [3, 4, 5];
        // arr1에 arr2의 모든 항목을 덧붙임
        Array.prototype.push.apply(arr1, arr2);
        // spread operator(전개 연산자)가 있는 ES2015에서는 이는 다음과 같이 됩니다.
        var arr1 = [0, 1, 2];
        var arr2 = [3, 4, 5];
        arr1.push(...arr2);

        /* 6. iterable에만 적용 */
        var obj = {"key1" : "value1"};
        function myFunction(x){
            console.log(x); // undefined
        }
        // myFunction(...obj);
        var args = [...obj];
        console.log( args, args.length); // [] 0
        /*var obj = {"key1":"value1"};
        function myFunction(x) {
            console.log(x); // undefined
        }
        myFunction(...obj);
        var args = [...obj];
        console.log(args, args.length) //[] 0*/

    </script>
</body>
</html>
